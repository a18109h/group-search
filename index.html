<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>班番号検索</title>
</head>
<body>
    <h1>班番号検索</h1>
    <label for="student-id">
        学籍番号を入力してください<br>
        ※ahは小文字半角、数字も半角です。<br>
        (例)ah12345:
    </label>
    <input type="text" id="student-id">
    <button onclick="searchGroup()">検索</button>

    <p id="result" style="font-size: 40px; font-weight: bold;"></p>

    <!-- 説明文を追加（最初は非表示） -->
    <div id="form-description" style="display: none; margin-top: 1em;">
        <p>以下のGoogleフォームで大宮祭で掲示予定の「土木を目指したきっかけ」を募集しています。<br>多くのきっかけを集めたいので、ご協力お願いします。：</p>
       <p>入力後、土木サークルの活動記録を見ることができます。ぜひ、ご覧ください。</p>
    </div>

    <!-- Googleフォームのリンク -->
    <p id="form-link" style="display: none;">
        <a id="form-url" href="#" target="_blank">Googleフォームはこちら</a>
    </p>

    <script>
        const groupData = {
            "ah25074": "1班", "ah25108": "1班", "ah25111": "1班", "ah25083": "1班", "ah25024": "1班", "ah25094": "1班", 
            "ah25029": "1班", "ah25093": "1班", "ah24089": "1班", "ah24032": "1班",

            "ah25097": "2班", "ah25037": "2班", "ah25076": "2班", "ah25011": "2班", "ah25005": "2班", "ah25046": "2班", 
            "ah25110": "2班", "ah25113": "2班", "ah25119":  "2班", "ah25079": "2班",
 "ah25043": "3班", "ah25078": "3班", "ah25117": "3班", "ah25085": "3班", "ah25106": "3班", "ah25088": "3班", 
            "ah25090": "3班", "ah25084": "3班", "ah25107": "3班",

            "ah25054": "4班", "ah25012": "4班", "ah25014": "4班", "ah25013": "4班", "ah25021": "4班", "ah25092": "4班", 
            "ah25081": "4班", "ah25086": "4班", "ah25008": "4班",

            "ah25091": "5班", "ah25045": "5班", "ah25048": "5班", "ah25089": "5班", "ah25063": "5班", "ah25080": "5班", 
            "ah25072": "5班", "ah25122": "5班", "ah25121": "5班",

            "ah25066": "6班", "ah25087": "6班", "ah25068": "6班", "ah25015": "6班", "ah25095": "6班", "ah25114": "6班", 
            "ah25077": "6班", "ah25033": "6班", "ah25034": "6班", "ah25028": "6班",

            "ah25073": "7班", "ah25047": "7班", "ah25004": "7班", "ah25098": "7班", "ah25055": "7班", "ah25039": "7班", 
            "ah25050": "7班", "ah25064": "7班", "ah25071": "7班", "ah25053": "7班"
        };

        const formLinks = {
            "1班": "https://forms.gle/i4ukWz8M6g2A1UPg9",
            "2班": "https://forms.gle/i4ukWz8M6g2A1UPg9",
            "3班": "https://forms.gle/i4ukWz8M6g2A1UPg9",
            "4班": "https://forms.gle/i4ukWz8M6g2A1UPg9",
            "5班": "https://forms.gle/i4ukWz8M6g2A1UPg9",
            "6班": "https://forms.gle/i4ukWz8M6g2A1UPg9",
            "7班": "https://forms.gle/i4ukWz8M6g2A1UPg9"
        };

        function searchGroup() {
            const studentId = document.getElementById("student-id").value.trim();
            const group = groupData[studentId];
            const resultText = group || "該当する班がありません";
            document.getElementById("result").textContent = resultText;

            if (group && formLinks[group]) {
                document.getElementById("form-url").href = formLinks[group];
                document.getElementById("form-link").style.display = "block";
                document.getElementById("form-description").style.display = "block";
            } else {
                document.getElementById("form-link").style.display = "none";
                document.getElementById("form-description").style.display = "none";
            }
// スプレッドシートへPOST（GASのURLを貼る）
    fetch("https://script.google.com/macros/s/AKfycbwnPY9jopVQ3RTqQvbHsz6csO2MYHWgqFw5NRV7mR3FjkHdnrYluXAPWcM0diwdch0J
/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: `studentId=${encodeURIComponent(studentId)}`
    });

        }
    </script>
</body>
</html>

